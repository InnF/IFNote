# 计算机网络体系结构

## 计算机网络的概念、组成与功能 

**计算机网络：** 就是利用通信设备和线路将地理位置不同的、功能独立的多个计算机系统互连起来，以功能完善的网络软件（即网络通信协议、信息交换方式、网络操作系统等）实现网络中资源共享和信息传递的系统。

**计算机网络的组成与结构**

+ *数据处理* 与 *数据通信* 两大基本功能
+ 逻辑功能上分为 *资源子网* 和 *通信子网*
  + 资源子网 - 负责 *数据处理*  的主计算机与终端 
  + 通信子网 - 负责 *数据通信处理* 的通信控制处理机与通信线路

![资源子网和通信子网结构示意图][资源子网和通信子网结构示意图]



**资源子网的概念**

+ 资源子网的组成 
  +  `主机（host）` <br/>大型机、中型机、小型机、工作站或微机
  +  `终端（terminal）`<br/>用户访问网络的界面；终端可以是简单的输入输出终端、带有微处理机的智能终端；终端可以通过主机连入网内，也可以通过通信控制处理机连入网内
  +  `终端控制器`
  +  `外设`
  +  `软件资源`
  +  `信息资源` 



**通信子网的概念**

早期的 ARPA net 中，承担通信控制处理机功能的设备是接口报文处理机 IMP，也就是现在广泛使用的路由器。



路由器将主机和终端连入校园网内；路由器完成分组、校验、存储、转发功能；交换机； 

### 计算机网络的分类

| 依据                 | 分类                                               |
| -------------------- | -------------------------------------------------- |
| 按网络的分布范围分类 | 广域网 WAN、城域网 MAN、局域网 LAN、个人区域网 PAN |
| 按使用者分类         | 公用网、专用网                                     |
| 按网络的交换方式分类 | 电路交换、报文交换、分组交换                       |
| 按网络的拓扑结构分类 | 星形、总线形、环形、树形、网状形                   |



### 计算机网络的标准化工作及相关组织

+ 标准化对于计算机网络至关重要
  + 要实现不同厂商的硬、软件之间的互连，必须遵从统一的标准
+ 标准的分类
  + **法定标注** ： 有权威机构制定的正式的、合法的标准
  + **事实标准**： 某些公司的产品在竞争中占据了主流，时间长了，这些产品中的协议和技术就成了标准。如 `TCP/IP`

**几个标准化组织**

+ ITU-T
  + 国际电信联盟委员会（International Telecommunication Union），前身就是国际电报电话咨询委员会（CCITT）
+ ISO
  + 国际标准化组织（International Standard Organization）
  + 义务性组织，主要成员是各大公司技术人员、大学教授、政府官员
  + 负责各行业的标准指定，主要贡献：ISO/OSI RM
+ IEEE
  + 美国电子、电气学工程师学会（The Institute of Electrical and Electrical and Electronics Engineers）
  + 专业性组织、学术团体，主要贡献：IEEE 802 系列局域网标准
+ IETF
  + Internet 工程任务组（Internet Engineering Task Force）
  + 负责 Internet 相关标准的指定
  + 标准形式：RFC xxxx，RFC 指 Request for Comment



**成为互联网正式标准要经过三个阶段**

所有互联网标准都以 RFC 的形式在互联网上发表

+ 互联网草案（Internet Draft） -- 有效期只有六个月。在这个阶段还不是 RFC 文档
+ 建议标准（Proposed Standard）-- 从这个阶段开始就成为 RFC 文档
+ 互联网标准（Internet Standard）-- 达到正是标准后，每个标准就分配到一个编号 STD xxxx。一个标准可以和多个 RFC 文档关联。

 

## 计算机网络体系结构与参考模型

### 计算机网络分层结构

**体系结构**：计算机网络各层次及其协议的集合。

层次结构以垂直分层模型来表示。除了在物理媒体上进行的 **实通信** 之外，其余各对等实体间进行的都是 **虚通信**。对等层的虚通信必须遵守该层的协议。

层次结构划分的原则：

1. 每层的功能应是明确的，并且是相互独立的。当某一层的具体实现方法更新时，只要保持上、下层接口不变，便不会对邻居产生影响。
2. 层间接口必须清晰，跨越接口的信息量应尽可能少
3. 层数应适中。若层数太少，则造成每一层协议太复杂；若层数太多，则体系结构过于复杂，使描述和实现各层功能变得困难。

### 计算机网络协议、接口、服务概念

#### 1. 协议

**网络标准**是为网络数据交换而制定的规则、约定与标准；

**三要素**：语义、语法与同步（时序）

+ 语义：即需要发出何种控制信息，完成何种动作以及做出何种响应（解释比特流的每一部分的意义）；

+ 语法：即（用户）用户数据与控制信息的结构与格式（，以及数据出现的顺序的意义）；
+ 同步（时序）：即事件实现顺序的详细说明；

#### 2. 接口（服务访问点）

**接口** 是同一结点 *内相邻层之间* 交换信息的连接点；同一结点的相邻层之间存在着明确规定的接口，低层向高层通过接口提供服务；

只要接口条件不变、低层功能不变，低层功能的具体实现方法与技术的变化不会影响整个系统的工作。

#### 3. 服务（service）

为保证上层对等体之间能相互相互通信，下层向上层提供的功能。

<br/>

</br/>

**实体**（entity）表示任何可发送或接收信息的硬件或软件进程。

**协议** 是控制两个对等实体进行通信的规则的集合。



在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务。

要实现本层协议，还需要使用下层所提供的服务



**协议和服务在概念上是不一样的**

协议的实现保证了能够向上一层提供服务。本层的服务用户只能看见服务而无法看见下面的协议。即下面的协议对上面的服务用户是透明的。

+ **协议是“水平的”**，即协议是控制对等实体之间通信的规则。
+ **服务是“垂直的”**，即服务是由下层向上层通过层间接口提供的。

上层使用服务原语获得下层所提供的服务。（[服务原语][服务原语]）

> 我与同学面对面交换东西，这是协议，因为我们是对等的实体，是“水平”的关系。<br/>我通过快递向同学寄东西，这是服务，我是上层用户，而快递公司向我提供服务（接口），快递在传输过程中，我们只与快递员打交道，后面怎么传输我不关心，后面还要运输到快递站点，运输到中转站等，这是服务，因为这是上下层的“垂直”的关系。

<br/>

<br/>

**服务访问点**

同一系统 *相邻两层的实体* 进行交互的地方，称为**服务访问点 SAP（Service Access Point）**。

服务访问点 SAP 是一个抽象的概念，它实际上就是一个逻辑接口。

OSI 把层与层之间交换的数据的单位称为**服务数据单元（Service Data Unit）**。

SDU 可以与 PDU （协议数据单元，Protocol Data Unit）不一样，例如，可以是多个 SDU 合成为一个 PDU，也可以是一个 SDU 划分为几个 PDU。

> 以快递距离，我们要寄的东西，对我们而言就相当于 SDU，而对快递公司而言这些东西都是一个个的包裹，就相当于 PDU。我的服务对象是要把东西寄给另一个人，而快递公司则是要把这些包裹寄给对方。

<br />

<br />

**网络体系结构的特点：**

1. 以功能作为划分层次的基础。（需要实现哪些功能，就划分哪几个层次）
2. 第 n 层实体在实现自身定义的功能时，只能使用第 n-1 层提供的服务。（SAP，相邻层之间）
3. 第 n 层在向第 n+1 层提供服务时，此服务不仅包含第 n 层本身的功能，还包含由下层服务提供的功能。
4. **仅**在相邻层间有接口，且所提供服务的具体实现细节对上一层完全屏蔽。

<br/>

<br/>

**概念理解**

+ 网络协议是按层次结构来组织的；
+ 网络层次结构模型与各层协议的集合称为网络体系结构；
+ 网络体系结构对计算机网络应该实现的功能进行了精确定义；
+ 体系结构是抽象的，而实现是指能够运行的一些硬件和软件。





[资源子网和通信子网结构示意图]:https://raw.githubusercontent.com/InnoFang/oh-my-study-notes/image-hosting/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B9%8B%E7%BB%AA%E8%AE%BA/%E6%97%A9%E6%9C%9F%E7%BD%91%E7%BB%9C.png
[服务原语]:https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%8E%9F%E8%AF%AD/3369231	"服务原语的百度百科说明"